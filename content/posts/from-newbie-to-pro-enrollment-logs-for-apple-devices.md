---
title: "From Newbie to Pro: Enrollment & Logs for Apple Devices"
date: 2024-02-20T23:59:22"
draft: false
tags: []
---

<p>Feeling overwhelmed by the sheer number of iPhones, iPads, and Macs under your wing? Juggling configurations, security, and user needs can quickly turn into a tech juggling act.</p><p>MDM can feel like a black box at times, offering hidden magic without revealing its secrets. This blog post is your decoder, unlocking the mysteries of MDM and empowering you to leverage its full potential. Whether you’re a seasoned pro or just starting your MDM journey, we’ll delve into the core functionalities with deep dive into MDM logs.</p><p>So, buckle up! Together, let’s unleash the true power of MDM and transform your device management experience. Let’s get started!</p><hr><h2 id="how-mdm-work-for-apple-devices"><strong>How MDM Work for Apple Devices</strong></h2><p>The four stages of enrolment into MDM are:</p><ul><li><em>Service discovery:</em>&nbsp;The device identifies itself to the MDM solution.</li><li><em>Enrolment:</em>&nbsp;The user provides credentials to an identity provider (IdP) for authorisation to enrol in the MDM solution.</li><li><em>Session token:</em>&nbsp;A session token is issued to the device to allow ongoing authentication.</li><li><em>MDM enrolment:</em>&nbsp;The enrolment profile is sent to the device with payloads configured by the MDM administrator.</li></ul><p>Let’s break it down further into basic blocks:</p><h3 id="enrolling-the-device"><strong>Enrolling the Device</strong></h3><p>First, the device has to enroll with an MDM solution, which installs an enrollment profile that links the device to the MDM solution.</p><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/02/image-20.png" class="kg-image" alt="" loading="lazy" width="1024" height="400" srcset="__GHOST_URL__/content/images/size/w600/2024/02/image-20.png 600w, __GHOST_URL__/content/images/size/w1000/2024/02/image-20.png 1000w, __GHOST_URL__/content/images/2024/02/image-20.png 1024w" sizes="(min-width: 720px) 720px"></figure><p>Log details:</p><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/02/image-25-2048x200.png" class="kg-image" alt="" loading="lazy" width="2000" height="195" srcset="__GHOST_URL__/content/images/size/w600/2024/02/image-25-2048x200.png 600w, __GHOST_URL__/content/images/size/w1000/2024/02/image-25-2048x200.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/02/image-25-2048x200.png 1600w, __GHOST_URL__/content/images/2024/02/image-25-2048x200.png 2000w" sizes="(min-width: 720px) 720px"></figure><h3 id="installing-an-enrollment-profile"><strong>Installing an Enrollment Profile</strong></h3><p>The device downloads the enrollment profile during the enrollment process. In some cases the download is automatic, and in other cases an MDM administrator or the user downloads the profile to install it.</p><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/02/image-15.png" class="kg-image" alt="" loading="lazy" width="1496" height="656" srcset="__GHOST_URL__/content/images/size/w600/2024/02/image-15.png 600w, __GHOST_URL__/content/images/size/w1000/2024/02/image-15.png 1000w, __GHOST_URL__/content/images/2024/02/image-15.png 1496w" sizes="(min-width: 720px) 720px"></figure><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/02/image-32-2048x171.png" class="kg-image" alt="" loading="lazy" width="2000" height="167" srcset="__GHOST_URL__/content/images/size/w600/2024/02/image-32-2048x171.png 600w, __GHOST_URL__/content/images/size/w1000/2024/02/image-32-2048x171.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/02/image-32-2048x171.png 1600w, __GHOST_URL__/content/images/2024/02/image-32-2048x171.png 2000w" sizes="(min-width: 720px) 720px"></figure><h3 id="notifying-the-device"><strong>Notifying the Device</strong></h3><p>The MDM server queues up a command for the device and sends a notification to the device through the Apple Push Notification service (APNs).</p><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/02/image-16.png" class="kg-image" alt="" loading="lazy" width="1496" height="656" srcset="__GHOST_URL__/content/images/size/w600/2024/02/image-16.png 600w, __GHOST_URL__/content/images/size/w1000/2024/02/image-16.png 1000w, __GHOST_URL__/content/images/2024/02/image-16.png 1496w" sizes="(min-width: 720px) 720px"></figure><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/02/image-27-2048x227.png" class="kg-image" alt="" loading="lazy" width="2000" height="222" srcset="__GHOST_URL__/content/images/size/w600/2024/02/image-27-2048x227.png 600w, __GHOST_URL__/content/images/size/w1000/2024/02/image-27-2048x227.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/02/image-27-2048x227.png 1600w, __GHOST_URL__/content/images/2024/02/image-27-2048x227.png 2000w" sizes="(min-width: 720px) 720px"></figure><h3 id="contacting-the-server"><strong>Contacting the Server</strong></h3><p>The device receives the notification and contacts the MDM server.</p><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/02/image-17-2.png" class="kg-image" alt="" loading="lazy" width="1496" height="656" srcset="__GHOST_URL__/content/images/size/w600/2024/02/image-17-2.png 600w, __GHOST_URL__/content/images/size/w1000/2024/02/image-17-2.png 1000w, __GHOST_URL__/content/images/2024/02/image-17-2.png 1496w" sizes="(min-width: 720px) 720px"></figure><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/02/image-33-2048x607.png" class="kg-image" alt="" loading="lazy" width="2000" height="593" srcset="__GHOST_URL__/content/images/size/w600/2024/02/image-33-2048x607.png 600w, __GHOST_URL__/content/images/size/w1000/2024/02/image-33-2048x607.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/02/image-33-2048x607.png 1600w, __GHOST_URL__/content/images/2024/02/image-33-2048x607.png 2000w" sizes="(min-width: 720px) 720px"></figure><h3 id="delivering-content"><strong>Delivering Content</strong></h3><p>After it’s connected to the MDM server, the device downloads — and acts on — the queued command. When your MDM solution wants to install an app, it sends a push notification to the device. The device checks in and processes an&nbsp;<code>InstallApplication</code>&nbsp;command and then fetches the actual app file.</p><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/02/image-18.png" class="kg-image" alt="" loading="lazy" width="1496" height="656" srcset="__GHOST_URL__/content/images/size/w600/2024/02/image-18.png 600w, __GHOST_URL__/content/images/size/w1000/2024/02/image-18.png 1000w, __GHOST_URL__/content/images/2024/02/image-18.png 1496w" sizes="(min-width: 720px) 720px"></figure><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/02/image-35-2048x314.png" class="kg-image" alt="" loading="lazy" width="2000" height="307" srcset="__GHOST_URL__/content/images/size/w600/2024/02/image-35-2048x314.png 600w, __GHOST_URL__/content/images/size/w1000/2024/02/image-35-2048x314.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/02/image-35-2048x314.png 1600w, __GHOST_URL__/content/images/2024/02/image-35-2048x314.png 2000w" sizes="(min-width: 720px) 720px"></figure><h3 id="declarative-device-management"><strong>Declarative Device Management</strong></h3><p>Microsoft Intune defines the declaration and sends them to the devices to asynchronously update the device settings, restrictions, assets, and more. With status channels, devices proactively report the status of objects like passcode compliance and MDM-installed apps — without constant polling from the MDM server.</p><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/02/image-19.png" class="kg-image" alt="" loading="lazy" width="1496" height="656" srcset="__GHOST_URL__/content/images/size/w600/2024/02/image-19.png 600w, __GHOST_URL__/content/images/size/w1000/2024/02/image-19.png 1000w, __GHOST_URL__/content/images/2024/02/image-19.png 1496w" sizes="(min-width: 720px) 720px"></figure><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/02/image-36-2048x158.png" class="kg-image" alt="" loading="lazy" width="2000" height="154" srcset="__GHOST_URL__/content/images/size/w600/2024/02/image-36-2048x158.png 600w, __GHOST_URL__/content/images/size/w1000/2024/02/image-36-2048x158.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/02/image-36-2048x158.png 1600w, __GHOST_URL__/content/images/2024/02/image-36-2048x158.png 2000w" sizes="(min-width: 720px) 720px"></figure><p>The MDM server subscribes to a device’s status item, and updates to the device’s information for this specific item are then incrementally reported back to the server.</p><hr><h3 id="master-the-magic-the-power-of-logs"><strong>Master the Magic: The Power of Logs</strong></h3><p>We’ve explored the enrollment process and glimpsed the backend, but trust me,&nbsp;<strong>this is just the beginning</strong>. Those MDM logs aren’t just technical mumbo jumbo – they’re a treasure trove of insights waiting to be explored. Think of them as your X-ray vision into the health and activity of your Mac fleet, offering the power to:</p><ul><li><strong>Tackle compliance like a detective:</strong>&nbsp;Identify devices violating policies – apps not installed,&nbsp;configurations out of sync – before they become security risks.&nbsp;Drill down into specific logs to pinpoint the root cause and ensure everyone stays within the lines.</li><li><strong>Become an app installation guru:</strong>&nbsp;Diagnose app installation failures.&nbsp;No more wondering why that critical company app isn’t showing up on everyone’s Macs.&nbsp;Logs reveal permission issues,&nbsp;network hiccups,&nbsp;or even user errors,&nbsp;empowering you to resolve issues swiftly.</li><li><strong>Unravel the mysteries of script execution:</strong>&nbsp;Did that automation script go rogue? Explore the logs to troubleshoot like a pro and ensure your scripts run smoothly every time.</li></ul><p>Forget relying on guesswork or waiting for problems to surface. By understanding and analyzing your MDM logs, you transform from a reactive admin to a proactive master of your Apple ecosystem. You’ll anticipate issues, address them before they impact users, and optimize your MDM setup for maximum efficiency and security.</p><hr><h3 id="conclusion"><strong>Conclusion</strong></h3><p>Remember, this is just the tip of the iceberg. We’ve cracked the surface of MDM logs, but there’s still a world of valuable insights waiting to be discovered. In the next installment of this series, we’ll embark on a deep dive into the fascinating realm of&nbsp;<strong>Platform Single Sign-On (SSO) logs</strong>. We’ll unravel their secrets, learn how to decode them, and equip you with the skills to troubleshoot even the most complex SSO scenarios. So, stay tuned and get ready to unleash the full power of your MDM solution for seamless and secure device management!</p>