---
title: "Device Admin App: The necessity and importance"
date: 2023-02-16T09:14:42"
draft: false
tags: []
---

<p>I was assisting a user today with adding his Android device to our MDM system (<em>Microsoft Intune</em>), and he came across the message "<em><u><strong>Activate Outlook as Device Administrator App</strong></u></em>," which probably all of us have undoubtedly seen and handled.</p><p>Just like any other organization, we also deploy mobile devices as both business owned and Bring Your Own Devices with a combination of iOS and Android, and host mailboxes on Microsoft Exchange.</p><p>Also, it is a legitimate question for the end user to wonder why the Outlook software needs to be added as the device administrator on his own Android smartphone. And why is this required? I was able to convince him of its necessity and significance, which made me wonder: Why not spread the word to everyone so that everyone is aware of what the Device Admin App is and why it is necessary? So, let's get going, then!</p><hr><h2 id="what-is-device-administration">What is Device Administration?</h2><p>Android 2.2 was the first version of Android to support managing mobile devices. Enterprise requirements have changed since then. Devices are being used in a wider range of use cases and accessing more private resources than the original device admin API for Android was intended for. Some examples of these use cases are:</p><ol><li>Fully managed corporate devices</li><li>Bring your own device</li><li>Dedicated devices (Kiosks)</li></ol><p>It doesn't support several enterprise use cases because a device admin can be activated by any program for which the user grants permission. Examples include:</p><ul><li>Setting <a href="__GHOST_URL__/factory-reset-protection/">factory reset protection (FRP)</a> to ensure devices remain managed and can be recovered when employees leave.</li><li>Secure reset of device passwords on encrypted devices.</li><li>Prevent removal of the device administrator.</li><li>Establishment of admin-defined passcodes to lock the user out of a device.</li></ul><p>Since Android 5.0 introduced device owner and work profile modes, device administration has been seen as an outdated technique. With the release of Android 9.0, Google has been removing a few policies to make Android Enterprise more secure. Few policies that are deprecated now: </p><blockquote>USES_POLICY_DISABLE_CAMERA<br>USES_POLICY_DISABLE_KEYGUARD_FEATURES<br>USES_POLICY_EXPIRE_PASSWORD<br>USES_POLICY_LIMIT_PASSWORD</blockquote><hr><h2 id="the-necessity">The Necessity </h2><p>We now know about "Device Administration", so let's understand why it is needed.</p><p>Enterprise apps need support from the underlying operating system to implement or enforce device administration features, which require access to specific APIs at the system level. Using these APIs, app developers can enable the app to be "security-aware"; that is, the app knows that it has to behave/work in an enterprise context and at the same time, it helps the enterprise control corporate devices. For example, the <strong>native Android email app</strong> leverages these APIs to support Exchange policies. IT administrators can use the email app to enforce password policies — including alphanumeric passwords or numeric PINs — across devices. Administrators can also remotely wipe on lost or stolen handsets. </p><p>Few apps that use the Device Administrator APIs:</p><ol><li>Email clients</li><li>Apps that can initiate device wipe</li><li>Device management apps/profiles</li><li>VPN apps</li></ol><h3 id="behind-the-scene">Behind the Scene</h3><p>Let's know understand how these app(s) that have access to device admin APIs can control the device features:</p><ol><li>An app developer creates an app that has access to system APIs and can enforce/modify/update device policies - remotely and locally. </li><li>The end user installs the apps on their personal devices, or the app is deployed through an MDM solution on end-user devices.</li><li>The app will prompt the user to enable/activate it as a "<em><u>device admin app</u></em>".</li><li>The security policies are enforced as soon as the user enables/activates the app as a device admin app. </li></ol><blockquote>If the user denies activating the app as device admin app, then it will not enforce it's policies and the app remains on the device as in-active app.</blockquote><p>It depends on the actions configured in the app as to what it should do in the event of non-compliance when the app is deployed and the dependent policies are enforced.</p><p>In most cases, a user is denied from accessing corporate resources if their device is evaluated to be non-compliant with the security policies in place. In a nutshell, if a device (for example, a legacy device) does not support all of the stated policies, there is no way to allow the device to connect.</p><p>The strictest policy is enforced if a device contains multiple enabled admin apps. There is no way to target a particular admin app. Users must first unregister the app as an administrator to remove an existing device admin app.</p><blockquote>Device Administration API currently only supports passwords for screen lock.</blockquote><figure class="kg-card kg-image-card kg-card-hascaption"><img src="__GHOST_URL__/content/images/2023/02/image-20.png" class="kg-image" alt="Policies supported by the Device Administration API." loading="lazy" width="735" height="1320" srcset="__GHOST_URL__/content/images/size/w600/2023/02/image-20.png 600w, __GHOST_URL__/content/images/2023/02/image-20.png 735w" sizes="(min-width: 720px) 720px"><figcaption>Policies supported by the Device Administration API</figcaption></figure><hr><h2 id="the-importance">The Importance</h2><p>In the modern era there is a variety of mobile devices that play a great role in contributing towards organizations success. One of the main challenge with <strong>exotechnology is with securing corporate data. </strong>An end user accesses corporate data from all type of devices like personal, corporate or kiosks and for each type of device there exists a policy for securing the data.</p><p>Coming back to Android devices, usage of device admin configuration depends upon the management type of your device:</p><h3 id="managing-personal-devices-bring-your-own">Managing personal devices (bring-your-own):</h3><p>An EMM deploys a work profile to create an OS-level container that separates a user's personal and work data and programs on their devices. The option to deploy applications utilizing managed Google Play gives businesses greater assurance that data won't be unintentionally or knowingly shared with unapproved applications. Furthermore, if a person leaves the company, IT administrators have the ability to selectively delete enterprise data without affecting their private files.</p><h3 id="managing-company-owned-devices-fully-managed">Managing company-owned devices (Fully Managed):</h3><p>An EMM has full lifecycle management over the Android device and its data when a managed device is enrolled as fully managed.</p><p>Lockdown of hardware features, defense against factory reset and unenrollment, administrative remote wipe and reset of the entire device, and customization of programs with support for kiosk or single application deployments are all included in this. The three deployment modes listed below are often administered by organizations utilizing managed device mode, though these can be combined throughout an organization's fleet depending on its needs:</p><ul><li><strong><strong>Work only:</strong></strong> Work only deployments generally target users who use a device for a variety of applications. Personal use isn’t supported with this method.</li><li><strong><strong>Personally-enabled:</strong></strong> Personally enabled deployments generally target users who have a device provided to them by their employer, but want the flexibility to also use personal applications on the device. The deployment of a work profile on a managed device allows the employee to run work applications alongside personal applications without compromising corporate data.</li><li><strong><strong>Dedicated device:</strong></strong> Dedicated device deployments generally encompass managed devices, sometimes called "<u>corporate owned, single use</u>," or "<em><u>COSU</u></em>," that lock down hardware and applications to tailor the device to the specific work functions an employee must perform.</li></ul><hr><h2 id="sample-manifest">Sample Manifest</h2><p>Here is an excerpt from the Device Administration sample manifest:</p><pre><code class="language-javascript">override fun onPreferenceChange(preference: Preference, newValue: Any): Boolean {
    if (super.onPreferenceChange(preference, newValue)) return true
    val value = newValue as Boolean
    if (preference == enableCheckbox) {
        if (value != adminActive) {
            if (value) {
                // Launch the activity to have the user enable our admin.
                val intent = Intent(DevicePolicyManager.ACTION_ADD_DEVICE_ADMIN).apply {
                    putExtra(DevicePolicyManager.EXTRA_DEVICE_ADMIN, deviceAdminSample)
                    putExtra(DevicePolicyManager.EXTRA_ADD_EXPLANATION,
                            activity.getString(R.string.add_admin_extra_app_text))
                }
                startActivityForResult(intent, REQUEST_CODE_ENABLE_ADMIN)
                // return false - don't update checkbox until we're really active
                return false
            } else {
                dpm.removeActiveAdmin(deviceAdminSample)
                enableDeviceCapabilitiesArea(false)
                adminActive = false
            }
        }
    } else if (preference == disableCameraCheckbox) {
        dpm.setCameraDisabled(deviceAdminSample, value)
    }
    return true
}</code></pre><hr><h2 id="conclusion">Conclusion</h2><p>Device Administration is an old way to get Admin access for your App and access features which otherwise is not available, like getting failed login notification, change pin and lock screen. It used to be difficult to uninstall an app on an Android phone with device admin enabled, but with newer Android versions, it's simpler because the user will receive a popup instructing him to turn off the program's admin privileges.</p><p>Use the most recent Android Management APIs if you want to make it very tough to uninstall the app. The organization controls the app, and only has the authority to unlock it for uninstallation. This is typically utilized by companies who give their staff mobile devices and have stringent regulations requiring that they install a certain number of apps.</p><p>Thank you for staying with me on this topic. Would be looking out for your sugestions. 😃</p>