---
title: "Secure, Contain, Protect... Your Mac: Deploy mSCP with Intune"
date: 2024-04-07T18:23:25"
draft: false
tags: []
---

<p><strong>Imagine a scenario:</strong> Your Mac fleet houses a growing universe of data, valuable and vulnerable in equal measure.  This ever-expanding data sprawl threatens to spiral out of control, a potential security nightmare.  But fear not, for there's a guardian in the wings: <strong>mSCP</strong>.</p><p>This isn't a secret government agency (though it sounds like it could be), but a powerful tool that can revolutionize your Mac data security. Developed through a collaborative effort between the National Institute of Standards and Technology (NIST),  National Aeronautics and Space Administration (NASA),  Defense Information Systems Agency (DISA), and Los Alamos National Lab (LANL),  mSCP equips you with a programmatic approach to generating security guidance, empowering you to <strong>Secure, Contain, and Protect</strong> your Mac data like never before.</p><p>This blog post will be your guide to wielding mSCP like a seasoned pro. We'll delve into the "why" and "how" of using mSCP, transforming you from a data security novice into a master of your Mac domain. So, buckle up and get ready to learn how mSCP can be your secret weapon in the fight for watertight Mac data security!</p><hr><h3 id="the-mac-data-menagerie-why-we-need-mscp"><strong>The Mac Data Menagerie: Why We Need mSCP</strong></h3><p>The ever-evolving landscape of Mac data presents a unique challenge for IT professionals.  Here's why mSCP emerges as a vital tool:</p><ul><li><strong>Data Deluge:</strong>  Our Macs accumulate data at an alarming rate. Documents, emails, applications â€“ the list goes on. This sprawl makes it difficult to track, categorize, and secure sensitive information. mSCP helps you classify your data, ensuring proper protection for the most critical assets.</li><li><strong>Security Silos:</strong>  Traditional security solutions often operate in isolation. mSCP offers a unified approach, allowing you to develop a comprehensive security strategy that integrates seamlessly with your existing workflows.</li><li><strong>Compliance Conundrums:</strong> Navigating a complex web of data privacy regulations can be daunting. mSCP provides a framework for aligning your Mac security practices with compliance requirements, saving you time and headaches.</li><li><strong>The Human Factor:</strong> Even the most robust security measures can be compromised by human error. mSCP empowers you to implement automated security protocols, minimizing the risk of user mistakes.</li></ul><hr><h3 id="the-power-of-mscp-taking-control-of-your-mac-security"><strong>The Power of mSCP: Taking Control of Your Mac Security</strong></h3><p>Now that we've established the urgency of managing your Mac data menagerie, let's dive into the specific benefits mSCP offers:</p><ul><li><strong>Streamlined Security Baseline Creation:</strong> mSCP provides pre-defined security baselines tailored to different macOS versions. These serve as a starting point, allowing you to customize them based on your organization's specific needs. This eliminates the need to build security configurations from scratch, saving you significant time and effort.</li><li><strong>Automated Compliance Checks:</strong> mSCP helps you identify gaps between your current security posture and relevant compliance regulations. Imagine being automatically notified of areas needing attention to meet industry standards, like HIPAA or PCI DSS.  This proactive approach minimizes the risk of non-compliance penalties.</li><li><strong>Risk-Based Prioritization:</strong> mSCP doesn't overwhelm you with a laundry list of security settings. It empowers you to prioritize based on potential risk. This allows you to focus on the most critical controls first, ensuring maximum security with efficient resource allocation.</li><li><strong>Customizable Guidance Generation:</strong>  mSCP isn't a one-size-fits-all solution.  It allows you to generate detailed security guidance documents specific to your organization's environment.  These documents serve as a clear roadmap for your IT team to implement and maintain optimal Mac security.</li><li><strong>Centralized Management:</strong>  Imagine managing security configurations across your entire Mac fleet from a central location.  With mSCP, you can achieve this by integrating it with various Mobile Device Management (MDM) solutions. This centralized approach simplifies administration and streamlines security enforcement.</li></ul><hr><h3 id="getting-started-with-mscp-your-guide-to-mac-data-security-mastery">Getting Started with mSCP: Your Guide to Mac Data Security Mastery</h3><p>Now that you're armed with the knowledge of mSCP's benefits, let's roll up your sleeves and get started! Here's a roadmap to guide you through the mSCP implementation process:</p><h4 id="prerequisites">Prerequisites</h4><ul><li>A Mac with macOS 14.0 or later.</li><li>A mobile device management (MDM) solution to configure and distribute settings to Apple devices.</li><li>A wireless or wired network to which all of the devices can connect and which provides access to Apple authentication servers and Apple Push Notification service (APNs)</li></ul><h5 id="clone-the-repository">Clone The Repository</h5><ul><li>Open your browser, access the following URL</li></ul><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://github.com/usnistgov/macos_security"><div class="kg-bookmark-content"><div class="kg-bookmark-title">GitHub - usnistgov/macos_security: macOS Security Compliance Project</div><div class="kg-bookmark-description">macOS Security Compliance Project. Contribute to usnistgov/macos_security development by creating an account on GitHub.</div><div class="kg-bookmark-metadata"><img class="kg-bookmark-icon" src="https://github.githubassets.com/assets/pinned-octocat-093da3e6fa40.svg" alt=""><span class="kg-bookmark-author">GitHub</span><span class="kg-bookmark-publisher">usnistgov</span></div></div><div class="kg-bookmark-thumbnail"><img src="https://opengraph.githubassets.com/a30b09b7b4754234fb53f5aab9101e32d387ae076fcdaa0a24b361856517bb67/usnistgov/macos_security" alt=""></div></a></figure><ul><li>It is required that before you use the repository, you go through the wiki to learn more about the repositoryâ€™s structure.</li><li>Open Terminal and type the following command and press Return:&nbsp;<code>mkdir macOS_security</code></li><li>Type the following command and press Return:&nbsp;<code>cd macos_security</code></li><li>Type the following command and press Return:</li></ul><p>&nbsp;<code>git clone https://github.com/usnistgov/macos_security.git</code></p><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.18.12.png" class="kg-image" alt="" loading="lazy" width="2000" height="876" srcset="__GHOST_URL__/content/images/size/w600/2024/04/Screenshot-2024-03-31-at-17.18.12.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/Screenshot-2024-03-31-at-17.18.12.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/Screenshot-2024-03-31-at-17.18.12.png 1600w, __GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.18.12.png 2000w" sizes="(min-width: 720px) 720px"></figure><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.18.26.png" class="kg-image" alt="" loading="lazy" width="2000" height="876" srcset="__GHOST_URL__/content/images/size/w600/2024/04/Screenshot-2024-03-31-at-17.18.26.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/Screenshot-2024-03-31-at-17.18.26.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/Screenshot-2024-03-31-at-17.18.26.png 1600w, __GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.18.26.png 2000w" sizes="(min-width: 720px) 720px"></figure><ul><li>Type the following command and press Return:&nbsp;<code>cd macos_security</code></li></ul><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.18.34.png" class="kg-image" alt="" loading="lazy" width="2000" height="876" srcset="__GHOST_URL__/content/images/size/w600/2024/04/Screenshot-2024-03-31-at-17.18.34.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/Screenshot-2024-03-31-at-17.18.34.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/Screenshot-2024-03-31-at-17.18.34.png 1600w, __GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.18.34.png 2000w" sizes="(min-width: 720px) 720px"></figure><ul><li>After you clone the mSCP repository to your Mac, youâ€™ll need to install the required Python and Ruby software.</li><li>In Terminal, type the following command and press Return:&nbsp;<code>pip3 install -r requirements.txt --user</code></li></ul><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.18.47.png" class="kg-image" alt="" loading="lazy" width="2000" height="876" srcset="__GHOST_URL__/content/images/size/w600/2024/04/Screenshot-2024-03-31-at-17.18.47.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/Screenshot-2024-03-31-at-17.18.47.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/Screenshot-2024-03-31-at-17.18.47.png 1600w, __GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.18.47.png 2000w" sizes="(min-width: 720px) 720px"></figure><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.18.51.png" class="kg-image" alt="" loading="lazy" width="2000" height="876" srcset="__GHOST_URL__/content/images/size/w600/2024/04/Screenshot-2024-03-31-at-17.18.51.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/Screenshot-2024-03-31-at-17.18.51.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/Screenshot-2024-03-31-at-17.18.51.png 1600w, __GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.18.51.png 2000w" sizes="(min-width: 720px) 720px"></figure><ul><li>Type the following command and press Return:&nbsp;<code>bundle install</code></li></ul><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.19.01.png" class="kg-image" alt="" loading="lazy" width="2000" height="876" srcset="__GHOST_URL__/content/images/size/w600/2024/04/Screenshot-2024-03-31-at-17.19.01.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/Screenshot-2024-03-31-at-17.19.01.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/Screenshot-2024-03-31-at-17.19.01.png 1600w, __GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.19.01.png 2000w" sizes="(min-width: 720px) 720px"></figure><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.19.12.png" class="kg-image" alt="" loading="lazy" width="2000" height="876" srcset="__GHOST_URL__/content/images/size/w600/2024/04/Screenshot-2024-03-31-at-17.19.12.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/Screenshot-2024-03-31-at-17.19.12.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/Screenshot-2024-03-31-at-17.19.12.png 1600w, __GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.19.12.png 2000w" sizes="(min-width: 720px) 720px"></figure><ul><li>Youâ€™ve successfully installed the additional software required to use the mSCP.</li></ul><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.19.15.png" class="kg-image" alt="" loading="lazy" width="2000" height="876" srcset="__GHOST_URL__/content/images/size/w600/2024/04/Screenshot-2024-03-31-at-17.19.15.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/Screenshot-2024-03-31-at-17.19.15.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/Screenshot-2024-03-31-at-17.19.15.png 1600w, __GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.19.15.png 2000w" sizes="(min-width: 720px) 720px"></figure><h5 id="explore-your-cloned-mscp-repository">Explore Your Cloned mSCP Repository</h5><p>After youâ€™ve cloned the mSCP repository to your Mac and installed the required software, you can explore the mSCP components. You can view the files in the cloned repository using the text editor of your choice.</p><ul><li>In Terminal, type the following command and press Return:&nbsp;<code>open ./</code></li><li>Open the baselines folder.</li></ul><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.22.16.png" class="kg-image" alt="" loading="lazy" width="2000" height="946" srcset="__GHOST_URL__/content/images/size/w600/2024/04/Screenshot-2024-03-31-at-17.22.16.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/Screenshot-2024-03-31-at-17.22.16.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/Screenshot-2024-03-31-at-17.22.16.png 1600w, __GHOST_URL__/content/images/size/w2400/2024/04/Screenshot-2024-03-31-at-17.22.16.png 2400w" sizes="(min-width: 720px) 720px"></figure><h5 id="understand-the-rules-yaml-format">Understand the Rules YAML Format</h5><p>mSCP offers a library of files stored in a format called YAML.  These files, located in the "rules" folder, connect to specific compliance requirements outlined in various security guides and policies. You can view and even edit these YAML files using most code editors, like Xcode or BBEdit.</p><p>Each file is organized into specific sections, containing key information needed to build and deploy security baselines for your Mac devices. These sections are already filled with appropriate configurations to get you started.  The following table breaks down the purpose of each section within the YAML files.</p><h4 id="generate-a-baseline">Generate a Baseline</h4><p>Security baselines are essentially recipes for keeping your Macs safe.  Each recipe utilizes specific ingredients, represented by individual security rules. These rules come with labels, known as metadata tags, that identify which recipes (baselines) they belong to.</p><p>Creating these recipes is where the <code>generate_baseline.py</code> script comes into play. This script acts as a special program you can run to search through a collection of pre-defined security rules. You simply tell it a keyword (like "encryption" or "network access"), and the script finds all the rules related to that keyword.</p><p>Using those matching rules, the script then creates a customized "security recipe" for you.  This recipe, saved as a <code>.yaml</code> file, outlines the specific security settings you need to implement on your Macs. This simplifies documenting and enforcing the desired security posture across your entire fleet.  Essentially, the script does all the heavy lifting by finding the ingredients (rules) and putting them together in a clear recipe (baseline) for you. You can find this script within the "scripts" folder of the project you downloaded.</p><ul><li>If you are not already in Terminal, open&nbsp;<strong>Finder</strong>, and select&nbsp;<strong>Applications</strong>. Click the&nbsp;<strong>Utilities</strong>&nbsp;folder. Launch&nbsp;<strong>Terminal</strong>.&nbsp;</li><li>Change to the&nbsp;macos_security&nbsp;directory by entering the following command:<br><code>cd macos_security</code></li><li>In Terminal, list the available baselines using the following command:<br><code>./scripts/generate_baseline.py -l</code></li></ul><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.19.34.png" class="kg-image" alt="" loading="lazy" width="2000" height="876" srcset="__GHOST_URL__/content/images/size/w600/2024/04/Screenshot-2024-03-31-at-17.19.34.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/Screenshot-2024-03-31-at-17.19.34.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/Screenshot-2024-03-31-at-17.19.34.png 1600w, __GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.19.34.png 2000w" sizes="(min-width: 720px) 720px"></figure><ul><li>You will see a list of all of the available default baselines.</li></ul><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.19.40.png" class="kg-image" alt="" loading="lazy" width="2000" height="876" srcset="__GHOST_URL__/content/images/size/w600/2024/04/Screenshot-2024-03-31-at-17.19.40.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/Screenshot-2024-03-31-at-17.19.40.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/Screenshot-2024-03-31-at-17.19.40.png 1600w, __GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.19.40.png 2000w" sizes="(min-width: 720px) 720px"></figure><ul><li> For this tutorial, you will use the&nbsp;<code>cis_lvl1</code>&nbsp;baseline</li></ul><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.20.47.png" class="kg-image" alt="" loading="lazy" width="2000" height="876" srcset="__GHOST_URL__/content/images/size/w600/2024/04/Screenshot-2024-03-31-at-17.20.47.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/Screenshot-2024-03-31-at-17.20.47.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/Screenshot-2024-03-31-at-17.20.47.png 1600w, __GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.20.47.png 2000w" sizes="(min-width: 720px) 720px"></figure><h4 id="generate-guidance">Generate Guidance</h4><p>mSCP allows you to take your YAML security rules and transform them into practical instructions for your Mac environment. This process involves a helpful Python script named <code>generate_guidance.py</code>.</p><ul><li>If you're not already using Terminal, launch it by going to Applications &gt; Utilities in Finder.</li><li>Use the&nbsp;<code>cd</code>&nbsp;command (change directory) to navigate to the directory containing your mSCP files. For example, if you downloaded mSCP to your Downloads folder, you would type&nbsp;<code>cd Downloads/macos_security</code>&nbsp;</li><li>Here's the magic part! Type the following command and press Enter:</li></ul><pre><code>./scripts/generate_guidance.py -p -s baselines/cis_lvl1.yaml
</code></pre><h6 id="explanation-of-the-flags"><br><strong>Explanation of the Flags:</strong></h6><ul><li><code>-p</code>: This flag tells the script to generate configuration profiles and PLIST files (special Mac settings files). </li><li><code>-s</code>: This flag instructs the script to create a script for compliance checking. This script helps you verify if your Macs adhere to your security guidelines.</li><li><code>baselines/cis_lvl1.yaml</code>: This part specifies the location of your security baseline file. You can replace&nbsp;<code>cis_lvl1.yaml</code>&nbsp;with the actual filename of your baseline.</li></ul><h6 id="finding-the-results"><strong>Finding the Results</strong></h6><p>Once the script finishes running, open Finder and navigate back to the <code>macos_security</code> directory. You'll find a new folder named after your baseline (e.g., <code>cis_lvl1</code>). This folder contains all the generated files, including configuration profiles, compliance checking scripts, and human-readable security guidance documents.</p><ul><li>You will see a list of all the available default baselines. You now have all the files required to deploy with Microsoft Intune.</li></ul><h4 id="fine-tuning-security-baselines-for-your-needs"><strong>Fine-Tuning Security Baselines for Your Needs</strong></h4><p>While this tutorial won't cover customizing baselines in detail, it's valuable to know how to tailor them to your organization's specific security requirements. </p><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.33.08.png" class="kg-image" alt="" loading="lazy" width="2000" height="924" srcset="__GHOST_URL__/content/images/size/w600/2024/04/Screenshot-2024-03-31-at-17.33.08.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/Screenshot-2024-03-31-at-17.33.08.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/Screenshot-2024-03-31-at-17.33.08.png 1600w, __GHOST_URL__/content/images/size/w2400/2024/04/Screenshot-2024-03-31-at-17.33.08.png 2400w" sizes="(min-width: 720px) 720px"></figure><div class="kg-card kg-callout-card kg-callout-card-blue"><div class="kg-callout-emoji">ðŸ’¡</div><div class="kg-callout-text"><b><strong style="white-space: pre-wrap;">Remember, it's crucial to only modify the fields you understand.</strong></b></div></div><p>The pre-populated configurations in the baseline files are a good starting point. If unsure about a specific field, it's best to consult the mSCP documentation or seek guidance from a security professional.</p><p>Here's the basic idea:</p><ul><li> Locate the rule you want to modify within the "rules" folder. Make a copy of this file and move it to a new folder called "custom" (you might need to create this folder yourself). This ensures you don't accidentally alter the original rule.</li></ul><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.23.03.png" class="kg-image" alt="" loading="lazy" width="2000" height="946" srcset="__GHOST_URL__/content/images/size/w600/2024/04/Screenshot-2024-03-31-at-17.23.03.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/Screenshot-2024-03-31-at-17.23.03.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/Screenshot-2024-03-31-at-17.23.03.png 1600w, __GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.23.03.png 2000w" sizes="(min-width: 720px) 720px"></figure><ul><li>Right-click on the copied YAML file and select "Open With." Choose your preferred code editor, such as BBEdit or Xcode.</li><li>This is where you get to personalize the rule. You can remove any fields you don't need to modify for your organization. Additionally, you can adjust the values within specific fields to align with your security policies.</li></ul><h6 id="understanding-the-example"><strong>Understanding the Example:</strong></h6><p>The provided screenshot (not included here) likely shows the rule file "system_settings_time_server_configure.yaml" opened in Xcode. In this example, you'll see that the time server has been set to "time.apple.com." This represents the specific setting being modified within the rule.</p><p><u>Technical Jargon Explained:</u></p><ul><li><strong>com.apple.MCX:</strong>&nbsp;This technical term identifies the payload type as defined by Apple. It essentially defines the category of setting being adjusted.</li><li><strong>payload property called timeServer:</strong>&nbsp;This refers to the specific property within the payload (setting category) that's being modified. In this case, "timeServer" tells you it's the address of the Network Time Protocol (NTP) server the Mac device should connect to for accurate timekeeping.</li></ul><p>By following these steps and understanding the example, you can confidently customize existing security rules in mSCP to create a robust security posture tailored to your organization's needs. </p><div class="kg-card kg-callout-card kg-callout-card-red"><div class="kg-callout-emoji">ðŸ’¡</div><div class="kg-callout-text">Remember, if you're unsure about modifying specific fields, it's always recommended to consult the mSCP documentation or seek help from a security professional.</div></div><hr><h3 id="putting-baselines-into-action-with-intune"><strong>Putting Baselines into Action with Intune</strong></h3><p>Once you've generated baseline files using mSCP, you can leverage them to create a comprehensive baseline within Microsoft Intune. This baseline will consist of three key components:</p><p><strong>Profiles:</strong> Remember the command you ran earlier to generate guidance? This command not only created human-readable documents but also produced two crucial files:</p><ul><li><strong>Audit PLIST file:</strong>&nbsp;This file resides in the&nbsp;<code>../build/{baseline}/preferences</code>directory. It allows you to set exemptions to specific security rules based on your company's unique policies. Think of it as an exception list for security settings.</li></ul><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.32.29.png" class="kg-image" alt="" loading="lazy" width="2000" height="924" srcset="__GHOST_URL__/content/images/size/w600/2024/04/Screenshot-2024-03-31-at-17.32.29.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/Screenshot-2024-03-31-at-17.32.29.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/Screenshot-2024-03-31-at-17.32.29.png 1600w, __GHOST_URL__/content/images/size/w2400/2024/04/Screenshot-2024-03-31-at-17.32.29.png 2400w" sizes="(min-width: 720px) 720px"></figure><ul><li><strong>Mobileconfig files:</strong>&nbsp;Each of these files contains the essential parameters required to create configuration profiles within Intune. These profiles essentially translate the security settings from your mSCP baseline into actionable configurations for your Macs.</li></ul><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.33.08-1.png" class="kg-image" alt="" loading="lazy" width="2000" height="924" srcset="__GHOST_URL__/content/images/size/w600/2024/04/Screenshot-2024-03-31-at-17.33.08-1.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/Screenshot-2024-03-31-at-17.33.08-1.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/Screenshot-2024-03-31-at-17.33.08-1.png 1600w, __GHOST_URL__/content/images/size/w2400/2024/04/Screenshot-2024-03-31-at-17.33.08-1.png 2400w" sizes="(min-width: 720px) 720px"></figure><p><strong>Scripts:</strong>  mSCP also generates a compliance script located in <code>../build/{baseline}/{baseline}_compliance.sh</code>. This script plays a vital role:</p><ul><li><strong>Validation:</strong>&nbsp;It checks your managed Mac devices to see if they adhere to the security settings defined in your mSCP baseline.</li><li><strong>Remediation (Optional):</strong>&nbsp;If configured, the script can also take corrective actions (remediation) on devices that don't comply with the baseline. For example, it could automatically activate a specific security setting that's missing on a device.</li></ul><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/image.png" class="kg-image" alt="" loading="lazy" width="2000" height="659" srcset="__GHOST_URL__/content/images/size/w600/2024/04/image.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/image.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/image.png 1600w, __GHOST_URL__/content/images/2024/04/image.png 2004w" sizes="(min-width: 720px) 720px"></figure><p>By combining these components (profiles, audit PLIST, and compliance script), you can establish a robust and automated security baseline for your Macs managed through Intune. This ensures your devices consistently maintain the desired security posture as defined by your organization's policies.</p><h4 id="preparation"><strong>Preparation:</strong></h4><ol><li><strong>Intune Access:</strong>&nbsp;Ensure you have access to the Microsoft Intune admin center.</li><li><strong>Device Enrollment:</strong>&nbsp;Verify that your Macs are enrolled in Microsoft Intune for device management.</li></ol><p>Once you've generated the security baseline components using mSCP, it's time to leverage them within Microsoft Intune to enforce the desired security posture on your Macs. Here's a step-by-step guide for each element:</p><p><strong>1. Deploying Baselines (.mobileconfig Files):</strong></p><ul><li>Navigate to "Devices" &gt; "Configuration profiles" &gt; "Create profile" in the Intune admin center.</li><li>Select "macOS" as the platform for this profile.</li><li>Choose "Custom" as the profile type for direct configuration settings import.</li></ul><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.46.39.png" class="kg-image" alt="" loading="lazy" width="2000" height="1199" srcset="__GHOST_URL__/content/images/size/w600/2024/04/Screenshot-2024-03-31-at-17.46.39.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/Screenshot-2024-03-31-at-17.46.39.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/Screenshot-2024-03-31-at-17.46.39.png 1600w, __GHOST_URL__/content/images/size/w2400/2024/04/Screenshot-2024-03-31-at-17.46.39.png 2400w" sizes="(min-width: 720px) 720px"></figure><ul><li>Provide a descriptive name and optional description for your profile.</li></ul><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.48.53.png" class="kg-image" alt="" loading="lazy" width="2000" height="1199" srcset="__GHOST_URL__/content/images/size/w600/2024/04/Screenshot-2024-03-31-at-17.48.53.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/Screenshot-2024-03-31-at-17.48.53.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/Screenshot-2024-03-31-at-17.48.53.png 1600w, __GHOST_URL__/content/images/size/w2400/2024/04/Screenshot-2024-03-31-at-17.48.53.png 2400w" sizes="(min-width: 720px) 720px"></figure><ul><li>Under "Settings," click "Browse" and select the relevant mobileconfig file generated by mSCP. This file resides in the&nbsp;<code>../build/{baseline}/</code>&nbsp;directory (replace&nbsp;<code>{baseline}</code>&nbsp;with your actual baseline name).</li></ul><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/Screenshot-2024-03-31-at-17.49.28.png" class="kg-image" alt="" loading="lazy" width="2000" height="1199" srcset="__GHOST_URL__/content/images/size/w600/2024/04/Screenshot-2024-03-31-at-17.49.28.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/Screenshot-2024-03-31-at-17.49.28.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/Screenshot-2024-03-31-at-17.49.28.png 1600w, __GHOST_URL__/content/images/size/w2400/2024/04/Screenshot-2024-03-31-at-17.49.28.png 2400w" sizes="(min-width: 720px) 720px"></figure><ul><li>Choose the Mac devices or device groups you want to enforce this security baseline upon. Use filters to define specific deployment criteria.</li><li>Carefully review the configuration details and click "Create" to deploy the profile to your targeted devices.</li></ul><p><strong>2. Deploying Baseline Compliance Script:</strong></p><ul><li>Locate the compliance script generated by mSCP in <code>../build/{baseline}/{baseline}_compliance.sh</code>.</li><li>Upload the script and deploy it to the required group.</li></ul><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/Screenshot-2024-04-08-at-21.29.33.png" class="kg-image" alt="" loading="lazy" width="1954" height="1570" srcset="__GHOST_URL__/content/images/size/w600/2024/04/Screenshot-2024-04-08-at-21.29.33.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/Screenshot-2024-04-08-at-21.29.33.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/Screenshot-2024-04-08-at-21.29.33.png 1600w, __GHOST_URL__/content/images/2024/04/Screenshot-2024-04-08-at-21.29.33.png 1954w" sizes="(min-width: 720px) 720px"></figure><p><strong>3. Deploying Audit PLIST:</strong></p><p>This step allows exemptions defined in the audit PLIST file to be utilized.</p><ul><li>Create a new configuration profile in Intune.</li><li>Choose "preference file" as the profile type for importing the PLIST settings.</li><li>Enter the path to your audit PLIST file (likely&nbsp;<code>../build/{baseline}/preferences/{audit_plist_filename}.plist</code>). </li><li>Assign this profile to the same devices or groups targeted by the main security baseline profile.</li></ul><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/image-1.png" class="kg-image" alt="" loading="lazy" width="1520" height="1319" srcset="__GHOST_URL__/content/images/size/w600/2024/04/image-1.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/image-1.png 1000w, __GHOST_URL__/content/images/2024/04/image-1.png 1520w" sizes="(min-width: 720px) 720px"></figure><p><strong>4. Deploying Custom Attributes:</strong></p><p>This section explores deploying custom attributes for reporting purposes and we will be creating the below 4 custom attributes:</p><ul><li>Baseline version</li><li>Exemptions count</li><li>Failed compliance check count</li><li>List of failed compliance check results</li></ul><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/image-2.png" class="kg-image" alt="" loading="lazy" width="2000" height="394" srcset="__GHOST_URL__/content/images/size/w600/2024/04/image-2.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/image-2.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/image-2.png 1600w, __GHOST_URL__/content/images/size/w2400/2024/04/image-2.png 2400w" sizes="(min-width: 720px) 720px"></figure><p>By following these steps and referring to the provided resources for optional configurations, you can effectively deploy the various components of your mSCP-generated security baseline within Intune. This will establish a centralized and automated security posture, ensuring your Macs adhere to your organization's security policies.</p><hr><h3 id="verifying-security-posture-a-simple-view-for-peace-of-mind"><strong>Verifying Security Posture: A Simple View for Peace of Mind</strong></h3><p>Once you've deployed the security baselines generated by mSCP using Intune, you'll gain a newfound sense of control and visibility.  Intune provides a user-friendly interface that allows you, the IT admin, to see at a glance the security posture of your entire Mac fleet.</p><p>Imagine a dashboard where you can see:</p><ul><li><strong>Device Name:</strong>&nbsp;This identifies each individual Mac in your fleet.</li><li><strong>OS Version:</strong>&nbsp;This displays the current macOS version running on each device.</li><li><strong>Security Baseline:</strong>&nbsp;This crucial column showcases the specific mSCP-generated security baseline that's currently enforcing settings on each Mac. With a single glance, you can verify which security profile is in effect for each device.</li><li><strong>Status:</strong>&nbsp;This column displays a clear indicator of the deployment status for each baseline on each Mac. Ideally, it will show "Success," signifying a successful deployment. However, it could also indicate any potential errors that might have occurred during deployment.</li></ul><figure class="kg-card kg-image-card"><img src="__GHOST_URL__/content/images/2024/04/Screenshot-2024-04-08-at-21.41.48.png" class="kg-image" alt="" loading="lazy" width="2000" height="278" srcset="__GHOST_URL__/content/images/size/w600/2024/04/Screenshot-2024-04-08-at-21.41.48.png 600w, __GHOST_URL__/content/images/size/w1000/2024/04/Screenshot-2024-04-08-at-21.41.48.png 1000w, __GHOST_URL__/content/images/size/w1600/2024/04/Screenshot-2024-04-08-at-21.41.48.png 1600w, __GHOST_URL__/content/images/size/w2400/2024/04/Screenshot-2024-04-08-at-21.41.48.png 2400w" sizes="(min-width: 720px) 720px"></figure><p>This centralized view empowers you to easily identify Macs that:</p><ul><li>Lack a security baseline altogether.</li><li>Have outdated baselines that require updates to ensure they adhere to the latest security standards.</li><li>Might have encountered deployment errors, requiring troubleshooting to ensure proper security enforcement.</li></ul><h5 id="the-power-of-visibility"><strong>The Power of Visibility</strong></h5><p>By leveraging mSCP and Intune, you gain a clear and concise picture of your Mac security landscape. This allows you to take proactive measures to:</p><ul><li>Ensure all Macs are protected by a robust security baseline.</li><li>Identify and address any deployment issues promptly.</li><li>Maintain a consistent and centralized security posture across your entire Mac fleet.</li></ul><p>This newfound visibility translates to peace of mind, knowing your Mac data is shielded by a comprehensive and well-managed security strategy.</p><hr><h3 id="conclusion-mastering-mac-security-with-mscp-and-intune"><strong>Conclusion: Mastering Mac Security with mSCP and Intune</strong></h3><p>mSCP empowers you to craft robust security baselines specifically for your Macs. With a few clicks in Intune, you can effortlessly deploy these baselines to your entire fleet.  Intune's user-friendly interface provides a centralized view of your Mac security posture, allowing you to identify missing baselines, outdated configurations, and potential deployment errors.  Optional features like automated compliance checks and detailed reporting offer even deeper insights.  By leveraging mSCP and Intune, you gain complete control over Mac security, ensuring your data remains protected and your organization stays secure. Explore mSCP today and experience the power of automated security baselines!</p><div class="kg-card kg-callout-card kg-callout-card-accent"><div class="kg-callout-emoji">ðŸ’¡</div><div class="kg-callout-text"><b><strong style="white-space: pre-wrap;">All the scripts and baselines used in this blog will be uploaded to my GitHub by tonight, so you can get started right away!</strong></b></div></div>